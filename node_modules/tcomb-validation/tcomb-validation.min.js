//     tcomb-validation 0.1.0
//     https://github.com/gcanti/tcomb-validation
//     (c) 2014 Giulio Canti <giulio.canti@gmail.com>
//     tcomb-validation may be freely distributed under the MIT license.
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["tcomb"],b):"object"==typeof exports?module.exports=b(require("tcomb")):a.t=b(a.t)}(this,function(a){"use strict";function b(a){return a.map(function(a){return"["+JSON.stringify(a)+"]"}).join("")}function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a=a.replace(new RegExp(":"+c,"gim"),b[c]));return a}function d(a,d){var e={path:d.path.join(".")||"value",jsonpath:b(d.path)||"value",actual:JSON.stringify(d.actual),expected:A(d.expected)},f=new Error(c(a,e));return B(f,d),new C({errors:[f]})}function e(a,b,c){return t.is(a)&&a.hasOwnProperty(b)?a[b]:r.is(a)?a:c}function f(a,b,c){if(!b.is(a)){var e=c.messages||":jsonpath is `:actual`, should be a `:expected`";return d(e,{path:c.path,actual:a,expected:b})}return D}function g(a,b,c){var f=t.is(a);if(!f){var g=e(c.messages,":input",":jsonpath is `:actual`, should be an `:expected`");return d(g,{path:c.path,actual:a,expected:t})}var h=[],i=b.meta.props;for(var j in i)if(i.hasOwnProperty(j)){var k=n(a[j],i[j],{path:c.path.concat([j]),messages:e(c.messages,j)});k.isValid()||(f=!1,h=h.concat(k.errors))}return f?D:new C({errors:h})}function h(a,b,c){return z(y(b)&&"maybe"===b.meta.kind),p.is(a)?D:n(a,b.meta.type,c)}function i(a,b,c){var f=n(a,b.meta.type,{path:c.path,messages:e(c.messages,":type")});if(!f.isValid())return f;var g=b.meta.predicate;if(!g(a)){var h=e(c.messages,":predicate",":jsonpath is `:actual`, should be a `:expected`");return d(h,{path:c.path,actual:a,expected:b})}return D}function j(a,b,c){var f=s.is(a);if(!f){var g=e(c.messages,":input",":jsonpath is `:actual`, should be a `:expected`");return d(g,{path:c.path,actual:a,expected:s})}for(var h=[],i=0,j=a.length;j>i;i++){var k=n(a[i],b.meta.type,{path:c.path.concat([i]),messages:e(c.messages,":type")});k.isValid()||(f=!1,h=h.concat(k.errors))}return f?D:new C({errors:h})}function k(a,b,c){z(u.is(b.dispatch),"unimplemented %s.dispatch()",A(b));var f=b.dispatch(a);if(!u.is(f)){var g=e(c.messages,":dispatch",":jsonpath is `:actual`, should be a `:expected`");return d(g,{path:c.path,actual:a,expected:b})}var h=b.meta.types.indexOf(f),i=n(a,f,{path:c.path,messages:e(c.messages,h)});return i.isValid()?D:i}function l(a,b,c){var f=b.meta.types,g=f.length,h=s.is(a)&&a.length===g;if(!h){var i=e(c.messages,":input",":jsonpath is `:actual`, should be a `:expected`");return d(i,{path:c.path,actual:a,expected:b})}for(var j=[],k=0;g>k;k++){var l=n(a[k],f[k],{path:c.path.concat([k]),messages:e(c.messages,k)});l.isValid()||(h=!1,j=j.concat(l.errors))}return h?D:new C({errors:j})}function m(a,b,c){var f=t.is(a);if(!f){var g=e(c.messages,":input",":jsonpath is `:actual`, should be a `:expected`");return d(g,{path:c.path,actual:a,expected:t})}var h=[];for(var i in a)if(a.hasOwnProperty(i)){var j=n(a[i],b.meta.type,{path:c.path.concat([i]),messages:e(c.messages,":type")});j.isValid()||(f=!1,h=h.concat(j.errors))}return f?D:new C({errors:h})}function n(b,c,d){var e=a.util.getKind(c);switch(e){case"irriducible":case"enums":return f(b,c,d);case"struct":return g(b,c,d);case"maybe":return h(b,c,d);case"list":return j(b,c,d);case"subtype":return i(b,c,d);case"union":return k(b,c,d);case"tuple":return l(b,c,d);case"dict":return m(b,c,d);default:a.fail("Invalid kind")}}function o(a,b,c){return c=c||{},z(y(b),"Invalid argument `type` of value `%j` supplied to `validate`, expected a type",b),z(w(s).is(c.path),"Invalid argument `opts.path` of value `%j` supplied to `validate`, expected an `Arr`",c.path),c.path=c.path||[],n(a,b,c)}var p=a.Nil,q=a.Err,r=a.Str,s=a.Arr,t=a.Obj,u=a.Func,v=a.struct,w=a.maybe,x=a.list,y=a.util.isType,z=a.assert,A=a.util.getName,B=a.util.mixin,C=v({errors:w(x(q))},"Result");C.prototype.isValid=function(){return!(this.errors&&this.errors.length)},C.prototype.firstError=function(){return this.isValid()?null:this.errors[0]};var D=new C({errors:null});return o.Ok=D,o.Result=C,a.validate=o,a});
//# sourceMappingURL=tcomb-validation.min.js.map