!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.t=b()}(this,function(){"use strict";function a(a){throw z=!0,new Error(a)}function b(a){A.onFail(a)}function c(a){if(a!==!0){var c=B.call(arguments,1),d=c[0]?e.apply(null,c):"assert failed";b(d)}}function d(a,b,d){for(var e in b)b.hasOwnProperty(e)&&(d||c(!a.hasOwnProperty(e),"cannot overwrite property %s",e),a[e]=b[e]);return a}function e(){function a(a,f){if("%%"===a)return"%";if(d>=c)return a;var g=e.formatters[f];return g?g(b[d++]):a}var b=B.call(arguments),c=b.length,d=1,f=b[0],g=f.replace(/%([a-z%])/g,a);return c>d&&(g+=" "+b.slice(d).join(" ")),g}function f(a,b){return"function"==typeof b?e("Func",b.name):b}function g(a){return K.is(a)&&J.is(a.meta)}function h(a){return I.is(a)&&a.every(g)}function i(a){return c(g(a),"Invalid argument `type` of value `%j` supplied to `getName()`, expected a type.",a),a.meta.name}function j(a){return c(g(a),"Invalid argument `type` of value `%j` supplied to `geKind()`, expected a type.",a),a.meta.kind}function k(a,b){return j(a)===b}function l(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function m(a,b,d){return E.is(a)?h(d)?e(d.length>1?"%s([%s])":"%s(%s)",b,d.map(i).join(", ")):b:(c(F.is(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"name",a,b,"a `maybe(Str)`"),a)}function n(a,b){c(!(a instanceof b),C.ERR_NEW_OPERATOR_FORBIDDEN,i(b))}function o(){c(K.is(A.update),C.ERR_OPTIONS_UPDATE_MISSING);var a=this,b=A.update.apply(a,arguments);return a(b)}function p(a,b){function d(f){return n(this,d),c(b(f),C.ERR_BAD_TYPE_VALUE,f,a,e("a `%s`",a)),f}return d.meta={kind:"irriducible",name:a},d.is=b,d}function q(a,b){function d(e,f){if(d.is(e))return e;if(c(J.is(e),C.ERR_BAD_TYPE_VALUE,e,b,"an `Obj`"),!(this instanceof d))return new d(e,f);for(var g in a)a.hasOwnProperty(g)&&(this[g]=a[g](e[g],f));f||Object.freeze(this)}return b=m(b,"struct"),c(J.is(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"props",a,b,"an `Obj`"),c(l(a).every(g),C.ERR_BAD_COMBINATOR_ARGUMENT,"props",a,b,"a dict of types"),d.meta={kind:"struct",props:a,name:b},d.is=function(a){return a instanceof d},d.update=o,d}function r(a,b){function d(a,e){n(this,d),c(K.is(d.dispatch),"unimplemented %s.dispatch()",b);var f=d.dispatch(a);return c(g(f),"%s.dispatch() returns no type",b),f(a,e)}var e="union";return b=m(b,e,a),c(h(a)&&a.length>=2,C.ERR_BAD_COMBINATOR_ARGUMENT,"types",a,e,"a list(type) of length >= 2"),d.meta={kind:"union",types:a,name:b},d.is=function(b){return a.some(function(a){return a.is(b)})},d.dispatch=function(b){for(var c=0,d=a.length;d>c;c++)if(a[c].is(b))return a[c]},d}function s(a,b){function d(b,c){return n(this,d),E.is(b)?null:a(b,c)}var e="maybe";return b=m(b,e,[a]),c(g(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,e,"a type"),"maybe"===a.meta.kind?a:(d.meta={kind:"maybe",type:a,name:b},d.is=function(b){return E.is(b)||a.is(b)},d)}function t(a,b){function d(a){return n(this,d),c(d.is(a),C.ERR_BAD_TYPE_VALUE,a,b,e),a}b=m(b,"enums"),c(J.is(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"map",a,b,"an `Obj`");var e="a valid enum";return d.meta={kind:"enums",map:a,name:b},d.is=function(b){return F.is(b)&&a.hasOwnProperty(b)},d}function u(a,b){function d(e,f){if(n(this,d),c(I.is(e)&&e.length===g,C.ERR_BAD_TYPE_VALUE,e,b,j),d.isTuple(e))return e;for(var h=[],i=0;g>i;i++){var k=a[i],l=e[i];h.push(k.is(l)?l:k(l,f))}return f||Object.freeze(h),h}var f="tuple";b=m(b,f,a),c(h(a)&&a.length>=2,C.ERR_BAD_COMBINATOR_ARGUMENT,"types",a,f,"a list(type) of length >= 2");var g=a.length,j=e("a tuple `(%s)`",a.map(i).join(", "));return d.meta={kind:"tuple",types:a,name:b},d.isTuple=function(b){return a.every(function(a,c){return a.is(b[c])})},d.is=function(a){return I.is(a)&&a.length===g&&d.isTuple(a)},d.update=o,d}function v(a,b,d){function e(f,g){n(this,e);var i=a(f,g);return c(b(i),C.ERR_BAD_TYPE_VALUE,f,d,h),i}var f="subtype";d=m(d,f,[a]),c(g(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,f,"a type"),c(K.is(b),C.ERR_BAD_COMBINATOR_ARGUMENT,"predicate",b,f,"a `Func`");var h=b.__doc__||"a valid value for the predicate";return e.meta={kind:"subtype",type:a,predicate:b,name:d},e.is=function(c){return a.is(c)&&b(c)},e}function w(a,b){function d(e,f){if(n(this,d),c(I.is(e),C.ERR_BAD_TYPE_VALUE,e,b,h),d.isList(e))return e;for(var g=[],i=0,j=e.length;j>i;i++){var k=e[i];g.push(a(k,f))}return f||Object.freeze(g),g}var f="list";b=m(b,f,[a]),c(g(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,f,"a type");var h=e("a list of `%s`",i(a));return d.meta={kind:"list",type:a,name:b},d.isList=function(b){return b.every(a.is)},d.is=function(a){return I.is(a)&&d.isList(a)},d.update=o,d}function x(a,b){function d(e,f){if(n(this,d),c(J.is(e),C.ERR_BAD_TYPE_VALUE,e,b,h),d.isDict(e))return e;var g={};for(var i in e)e.hasOwnProperty(i)&&(g[i]=a(e[i],f));return f||Object.freeze(g),g}var f="dict";b=m(b,f,[a]),c(g(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"type",a,f,"a type");var h=e("a dict of `%s`",i(a));return d.meta={kind:"dict",type:a,name:b},d.isDict=function(b){for(var c in b)if(b.hasOwnProperty(c)&&!a.is(b[c]))return!1;return!0},d.is=function(a){return J.is(a)&&d.isDict(a)},d.update=o,d}function y(a,b,d,e){function f(){var c=B.call(arguments);c.length<b.length&&(c.length=b.length),c=a.is(c)?c:a(c);var e=b.apply(null,c);return d&&(e=d.is(e)?e:d(e)),e}return e=e||"func()",a=I.is(a)?u(a,"Arguments"):a,c(g(a),C.ERR_BAD_COMBINATOR_ARGUMENT,"Arguments",a,e,"a type or a list of types"),c(K.is(b),C.ERR_BAD_COMBINATOR_ARGUMENT,"f",b,e,"a `Func`"),c(E.is(d)||g(d),C.ERR_BAD_COMBINATOR_ARGUMENT,"Return",d,e,"a type"),d=d||null,g(b)&&b.meta.Arguments===a&&b.meta.Return===d?b:(f.is=function(a){return a===f},f.meta={kind:"func",Arguments:a,f:b,Return:d,name:e},f)}var z=!1,A={onFail:a,update:null},B=Array.prototype.slice,C={ERR_BAD_TYPE_VALUE:"Invalid type argument `value` of value `%j` supplied to `%s`, expected %s.",ERR_BAD_COMBINATOR_ARGUMENT:"Invalid combinator argument `%s` of value `%j` supplied to `%s`, expected %s.",ERR_OPTIONS_UPDATE_MISSING:"Missing `options.update` implementation",ERR_NEW_OPERATOR_FORBIDDEN:"Operator `new` is forbidden for `%s`"};e.formatters={s:function(a){return String(a)},j:function(a){return JSON.stringify(a,f)}};var D=p("Any",function(){return!0}),E=p("Nil",function(a){return null===a||void 0===a}),F=p("Str",function(a){return"string"==typeof a}),G=p("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),H=p("Bool",function(a){return a===!0||a===!1}),I=p("Arr",function(a){return a instanceof Array}),J=p("Obj",function(a){return!E.is(a)&&"object"==typeof a&&!I.is(a)}),K=p("Func",function(a){return"function"==typeof a}),L=p("Err",function(a){return a instanceof Error}),M=p("Re",function(a){return a instanceof RegExp}),N=p("Dat",function(a){return a instanceof Date});return t.of=function(a,b){a=F.is(a)?a.split(" "):a;var c={};return a.forEach(function(a){c[a]=a}),t(c,b)},{util:{mixin:d,format:e,isType:g,getName:i,getKind:j,isKind:k,values:l,slice:B},options:A,assert:c,fail:b,Any:D,Nil:E,Str:F,Num:G,Bool:H,Arr:I,Obj:J,Func:K,Err:L,Re:M,Dat:N,irriducible:p,struct:q,enums:t,union:r,maybe:s,tuple:u,subtype:v,list:w,dict:x,func:y}});
//# sourceMappingURL=tcomb.min.js.map